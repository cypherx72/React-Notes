
---

## ðŸ› ï¸ **Using `async/await` in `useEffect`** Â 

While `.then()` works for handling promises, `async/await` provides a cleaner and more readable syntax. However, `useEffect` does not support `async` directly. Â 


### Steps to Use `async/await` in `useEffect`: Â 

1. **Define an `async` Function**: Create a separate `async` function inside `useEffect`. Â 

2. **Call the Function**: Immediately invoke the `async` function within `useEffect`. Â 

### Example: Â 

```javascript
useEffect(() => {
Â  const fetchPlaces = async () => {
Â  Â  const response = await fetch('http://localhost:3000/places');
Â  Â  const data = await response.json();
Â  Â  setAvailablePlaces(data.places); // Update state
Â  };
  
Â  fetchPlaces(); // Call the async function
}, []); // Empty dependency array
```


---

## ðŸ”‘ **Key Takeaways** Â 

- **`async/await`**: Provides a cleaner and more readable way to handle promises. Â 

- **Avoid `async` Directly in `useEffect`**: React does not support `async` directly in `useEffect`. Â 

- **Workaround**: Define an `async` function inside `useEffect` and call it immediately. Â 


---

### ðŸ–¥ï¸ **Final Code Example** Â 

```javascript
import { useEffect, useState } from 'react';

function AvailablePlaces() {
Â  const [availablePlaces, setAvailablePlaces] = useState([]);

Â  useEffect(() => {
Â  Â  const fetchPlaces = async () => {
Â  Â  Â  const response = await fetch('http://localhost:3000/places');
Â  Â  Â  const data = await response.json();
Â  Â  Â  setAvailablePlaces(data.places); // Update state
Â  Â  };
Â  Â  
Â  Â  fetchPlaces(); // Call the async function

Â  }, []); // Fetch data only once

Â  return (
Â  Â  <div>
Â  Â  Â  {availablePlaces.map(place => (
Â  Â  Â  Â  <div key={place.id}>
Â  Â  Â  Â  Â  <img
Â  Â  Â  Â  Â  Â  src={`http://localhost:3000/${place.image}`}
Â  Â  Â  Â  Â  Â  alt={place.title}
Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  <h2>{place.title}</h2>
Â  Â  Â  Â  Â  <p>{place.description}</p>
Â  Â  Â  Â  </div>
Â  Â  Â  ))}
Â  Â  </div>
Â  );
}

export default AvailablePlaces;
```

---

  

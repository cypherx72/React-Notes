
## **Objective: Making Context Dynamic**  

**Why?**  

- The goal is to **link Context to State**, making it **dynamic** so components can both **read and update** shared state **without prop drilling**.  

- This involves:  

  ✅ **Providing state as a context value**  
  ✅ **Providing state-updating functions through context**  

- To make the context **dynamic**, we **replace the static value** with a **stateful value**.  


## **Consuming State & Functions in Components**  

### **Accessing `addItemToCart` Function in `Product.js`**  

```jsx
import { useContext } from 'react';
import CartContext from '../store/shopping-cart-context';

function Product({ product }) {
  const { addItemToCart } = useContext(CartContext);
  return <button onClick={() => addItemToCart(product)}>Add to Cart</button>;
}

export default Product;
```

✅ Clicking the button **adds the product** to the cart **without prop drilling**!  

  
---


## **Why Add State-Updating Functions to Context?**  

✅ **Avoids Prop Drilling** – No need to pass functions down multiple component levels.  
✅ **Centralized State Management** – All logic is inside the **context provider** for easy maintenance.  
✅ **Reusability** – Any component can consume the context and update the state.  


---

## **Improving Auto-Completion & Type Safety**  

To improve **auto-completion & TypeScript support**, **set a default function** in `createContext()`.  

✅ **Better `shopping-cart-context.js`**  

```jsx
const CartContext = createContext({
  items: [],
  addItemToCart: () => {} // Dummy function for better IDE support
});
```

✅ **Now IDEs will auto-suggest `addItemToCart` when using `useContext(CartContext)`**.  


---

## **Destructuring for Cleaner Code**  

✅ Instead of writing `cartCtx.items` and `cartCtx.addItemToCart`, use **destructuring**:  

```jsx
const { items, addItemToCart } = useContext(CartContext);
```

✅ **This improves readability & avoids repetitive `cartCtx.` references.**  


---

## **Summary & Best Practices**  

✅ **Context + State Integration** – Linking state to context **enables dynamic state sharing** across multiple components.  
✅ **State-Updating Functions** – Adding functions like `addItemToCart` **avoids prop drilling** and improves maintainability.  
✅ **Destructuring & Default Values** – **Enhances readability** and **improves auto-completion**.  
✅ **Centralized State Management** – Context **keeps everything organized**, making the codebase scalable.  


---
  
Great â€” now youâ€™ve reached **Circular Doubly Linked List (CDLL)**.  
This is just an extension of **DLL**, but with the twist that:

- `head->prev` points to the **last node**.
    
- `last->next` points back to the **head node**.
    

That closes the loop â†’ hence _circular_.

---

# ðŸ“˜ Circular Doubly Linked List (CDLL) Notes

---

## ðŸ”¹ Structure of Node

```c
struct Node {
    int data;
    struct Node *prev;
    struct Node *next;
};
```

---

## ðŸ”¹ Traversal / Display

- Must stop when pointer comes back to `head`.
    
- Use **do-while** (like circular singly LL).
    

```c
void Display(struct Node *head) {
    struct Node *p = head;
    if (head == NULL) return;  

    do {
        printf("%d ", p->data);
        p = p->next;
    } while (p != head);
    printf("\n");
}
```

---

## ðŸ”¹ Insertion

ðŸ‘‰ General Rule: **Always 4 links change** in CDLL.

### Case 1: Insert at End (after last node)

1. Create new node `t`.
    
2. `t->next = head`
    
3. `t->prev = head->prev`
    
4. `head->prev->next = t`
    
5. `head->prev = t`
    

---

### Case 2: Insert Before Head

ðŸ‘‰ Constant-time, no traversal needed.

1. Create `t`.
    
2. `t->next = head`
    
3. `t->prev = head->prev`
    
4. `head->prev->next = t`
    
5. `head->prev = t`
    
6. Update `head = t` (new head).
    

---

## ðŸ”¹ Deletion

Very similar, again **4 links adjust**.

### Case 1: Delete Head

1. If only 1 node â†’ free it, set `head = NULL`.
    
2. Else:
    
    - `head->prev->next = head->next`
        
    - `head->next->prev = head->prev`
        
    - Move `head = head->next`
        
    - Free old head.
        

---

### Case 2: Delete Any Node `p`

- `p->prev->next = p->next`
    
- `p->next->prev = p->prev`
    
- Free `p`.
    

---

## ðŸ”¹ Special Cases

- **Empty list** â†’ `head = NULL`.
    
- **Single node** â†’ `head->next = head`, `head->prev = head`.
    

---

## ðŸ”¹ Complexity

- Traversal: O(n)
    
- Insertion: O(1) (no need to find last, just use `head->prev`).
    
- Deletion: O(1) (if node pointer given).
    

---

âœ… With this, you can implement **Display, Insert (before/after), Delete, Reverse** for Circular Doubly Linked List.

---

Do you want me to **write out a full C program implementing CDLL with menu-driven options (insert, delete, display, exit)** so you can test it directly?
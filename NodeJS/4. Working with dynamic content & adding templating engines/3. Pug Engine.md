---

## ðŸ“Œ Module Walkthrough: Installing & Using Pug with Express

---

### 1. Installing Templating Engines

- Stop the dev server.
    
- Run:
    
    ```bash
    npm install --save ejs pug express-handlebars
    ```
    
    - **EJS** and **Pug** include Express integration out of the box.
        
    - **Handlebars** requires the **express-handlebars** package for seamless Express support.
        

---

### 2. Registering the Pug Engine in `app.js`

- After creating your Express app (`const app = express()`), add:
    
    ```js
    // Tell Express to use Pug for rendering views
    app.set('view engine', 'pug');
    
    // (Optional) Explicitly point to the views directory
    app.set('views', path.join(__dirname, 'views'));
    ```
    
- **`view engine`**: selects which templating engine to use.
    
- **`views`**: tells Express where to look for template files (default: `./views`).
    

---

### 3. Creating a Pug Template

- In the `views/` folder, create `shop.pug`.
    
- Pug uses **indentation** to define HTML structure:
    
    ```pug
    doctype html
    html
      head
        title Shop
        link(rel="stylesheet" href="/css/product.css")
      body
        header.main-header
          nav.main-header__nav
            ul.main-header__item-list
              li.main-header__item
                a.main-header__link.active(href="/") Shop
              li.main-header__item
                a.main-header__link(href="/add-product") Add Product
        //- (Later: main content goes here)
    ```
    
- **Key Pug syntax**:
    
    - Tag names without closing tags.
        
    - Classes via dot notation (`.main-header`).
        
    - Attributes in parentheses (`(href="/")`).
        
    - Text content after the tag or inlined with `|`.
        

---

### 4. Switching from `res.sendFile` to `res.render`

- In your route handler (e.g., `shop.js`), replace:
    
    ```js
    // Old: send static HTML
    res.sendFile(path.join(rootDir, 'views', 'shop.html'));
    
    // New: render Pug template
    res.render('shop');      // Express app will append `.pug`
    ```
    
- **`res.render('shop')`**:
    
    1. Locates `views/shop.pug`.
        
    2. Uses Pug to compile it to HTML.
        
    3. Sends the resulting HTML to the client.
        

---

### 5. Verifying Output

- Restart the server and load `/shop`.
    
- You should see the new header/nav structure rendered.
    
- **View page source** in the browser to confirm itâ€™s standard HTML generated by Pug.
    

---

### 6. Next Steps

1. **Inject dynamic data** into `shop.pug` (e.g., loop through `products` array).
    
2. Explore **EJS** and **Handlebars** setup similarly.
    
3. Compare syntax and pick your preferred engine for the rest of the course.
    

---

